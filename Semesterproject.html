<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2023-07-02">

<title>Wartezeit an ÖV-Haltestellem beim Reisebeginn</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="Semesterproject_files/libs/clipboard/clipboard.min.js"></script>
<script src="Semesterproject_files/libs/quarto-html/quarto.js"></script>
<script src="Semesterproject_files/libs/quarto-html/popper.min.js"></script>
<script src="Semesterproject_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Semesterproject_files/libs/quarto-html/anchor.min.js"></script>
<link href="Semesterproject_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Semesterproject_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Semesterproject_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Semesterproject_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Semesterproject_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="Semesterproject_files/libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="Semesterproject_files/libs/jquery-1.12.4/jquery.min.js"></script>
<link href="Semesterproject_files/libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="Semesterproject_files/libs/leaflet-1.3.1/leaflet.js"></script>
<link href="Semesterproject_files/libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="Semesterproject_files/libs/proj4-2.6.2/proj4.min.js"></script>
<script src="Semesterproject_files/libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="Semesterproject_files/libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="Semesterproject_files/libs/leaflet-binding-2.1.1/leaflet.js"></script>
<script src="Semesterproject_files/libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="Semesterproject_files/libs/leaflet-providers-plugin-2.1.1/leaflet-providers-plugin.js"></script>


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
  <li><a href="#hintergrund-und-forschungsziele" id="toc-hintergrund-und-forschungsziele" class="nav-link active" data-scroll-target="#hintergrund-und-forschungsziele">1 Hintergrund und Forschungsziele</a></li>
  <li><a href="#methode" id="toc-methode" class="nav-link" data-scroll-target="#methode">2 Methode</a>
  <ul class="collapse">
  <li><a href="#daten" id="toc-daten" class="nav-link" data-scroll-target="#daten">2.1 Daten</a></li>
  <li><a href="#datenvorverarbeitung" id="toc-datenvorverarbeitung" class="nav-link" data-scroll-target="#datenvorverarbeitung">2.2 Datenvorverarbeitung</a></li>
  <li><a href="#methode-1" id="toc-methode-1" class="nav-link" data-scroll-target="#methode-1">2.3 Methode</a>
  <ul class="collapse">
  <li><a href="#ansatz-geschwindigkeit" id="toc-ansatz-geschwindigkeit" class="nav-link" data-scroll-target="#ansatz-geschwindigkeit">2.3.1 Ansatz «Geschwindigkeit»</a></li>
  <li><a href="#ansatz-transportmodus" id="toc-ansatz-transportmodus" class="nav-link" data-scroll-target="#ansatz-transportmodus">2.3.2 Ansatz «Transportmodus»</a></li>
  <li><a href="#r-t-ansatz-transportmodus" id="toc-r-t-ansatz-transportmodus" class="nav-link" data-scroll-target="#r-t-ansatz-transportmodus">R: T: Ansatz “Transportmodus”</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#resultate" id="toc-resultate" class="nav-link" data-scroll-target="#resultate">3 Resultate</a></li>
  <li><a href="#diskussion" id="toc-diskussion" class="nav-link" data-scroll-target="#diskussion">4 Diskussion</a></li>
  <li><a href="#literatur" id="toc-literatur" class="nav-link" data-scroll-target="#literatur">5 Literatur</a></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Wartezeit an ÖV-Haltestellem beim Reisebeginn</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Stefan Häring &amp; Miriam Jakob </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 2, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="hintergrund-und-forschungsziele" class="level1">
<h1>1 Hintergrund und Forschungsziele</h1>
<p>(Zeit ist Geld (Effizienzsteigerung) versus Bewusst und Entspannt durchs Leben gehen -&gt;Literatur, Öv CH superpünktlich, geringe Wartezeiten bzw Wartezeit selbstverschuldet)</p>
<p>Passagiere empfinden in der Regel das Warten an Haltestellen des Öffentlichen Verkehrs (ÖV) als äusserst lästig (van Hagen 2011). Die Schweizer ÖV sind international bekannt für ihre Pünktlichkeit (Kaindl 2022), wodurch die Länge der Wartezeit zu Beginn einer Reise meist selbstverschuldet ist. Nach Csiskos &amp; Currie (2008) gibt es zwei verschiedene Arten von Fahrgastverhalten: Eine Gruppe kommt zufällig an, während eine andere Gruppe aktiv versucht, ihre Wartezeit zu minimieren, indem sie rechtzeitig zur geplanten Abfahrtszeit bei der Haltestelle ankommt. Evtl. Blabla zu AnalyseWerkzeugen, how fast is a cow und so.. oder erst in Diskussion</p>
<p>In unserer Projektarbeit möchten wir unsere tägliche Wartezeit an Haltestellen von öffentlichen Verkehrsmitteln (ÖV) untersuchen. Dabei wird ausschliesslich der Beginn einer Reise betrachtet. Folgende Fragen sollen anhand zweier leicht unterschiedlicher Methoden beantwortet werden:</p>
<ul>
<li>Wie oft reisen wir mit den ÖV?</li>
<li>Sind die Wartezeiten pro Person von Reise zu Reise unterschiedlich lang?</li>
<li>Wer verbringt durchschnittlich mehr Wartezeit an den Haltestellen?</li>
<li>Kommen unsere beiden methodischen Herangehensweisen zu den gleichen Resultaten?</li>
</ul>
</section>
<section id="methode" class="level1">
<h1>2 Methode</h1>
<section id="daten" class="level2">
<h2 class="anchored" data-anchor-id="daten">2.1 Daten</h2>
<p>Die Daten bestehen aus eigenen Bewegungsdaten, welche mit der Applikation Posmo Project (Datamap AG, Version 22.01.16, 2023) erfasst wurden. Daten wurden vom 03.05.23 bis 21.06.23 mit einer Frequenz der Lokalisierungsdaten von 10 Sekunden aufgenommen. Fand keine deutliche Bewegung statt, wurden die Datenpunkte durch Posmo automatisch entfernt. Diese Daten liegen als CSV-Datei vor und beinhalten u.a. Datum &amp; Zeit („datetime”), x-Koordinaten („long_x”), y-Koordinaten („lat_y”) und Transportmodus („transport_mode”).</p>
<div class="cell">

</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="do">### R: Daten einlesen</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Daten von Stefan (ab 29.04.2023)</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>stefan <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">"posmo_Stefan_23-05-03_06-21.csv"</span>, <span class="at">delim =</span> <span class="st">","</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stefan)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 7
  user_id                datetime            weekday place…¹ trans…² lon_x lat_y
  &lt;chr&gt;                  &lt;dttm&gt;              &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt;
1 d081d87a-d5b5-42fc-ac… 2023-05-02 22:00:00 Wed     Alpthal &lt;NA&gt;     8.70  47.1
2 d081d87a-d5b5-42fc-ac… 2023-05-03 03:21:27 Wed     &lt;NA&gt;    Walk     8.70  47.1
3 d081d87a-d5b5-42fc-ac… 2023-05-03 03:21:27 Wed     &lt;NA&gt;    Walk     8.70  47.1
4 d081d87a-d5b5-42fc-ac… 2023-05-03 03:21:41 Wed     &lt;NA&gt;    Walk     8.70  47.1
5 d081d87a-d5b5-42fc-ac… 2023-05-03 03:21:57 Wed     &lt;NA&gt;    Walk     8.70  47.1
6 d081d87a-d5b5-42fc-ac… 2023-05-03 03:22:11 Wed     &lt;NA&gt;    Walk     8.70  47.1
# … with abbreviated variable names ¹​place_name, ²​transport_mode</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>stefan<span class="sc">$</span>person <span class="ot">&lt;-</span> <span class="st">"Stefan"</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Daten von Miriam (ab xx.05.2023)</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>miriam <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">"posmo_Miriam_23-05-03_06-21.csv"</span>, <span class="at">delim =</span> <span class="st">","</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>miriam<span class="sc">$</span>person <span class="ot">&lt;-</span> <span class="st">"Miriam"</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Schweizergrenze für Visualisierung</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>schweiz <span class="ot">&lt;-</span> <span class="fu">read_sf</span>(<span class="st">"schweiz.gpkg"</span>)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Daten zusammenführen</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>posmo <span class="ot">&lt;-</span> <span class="fu">rbind</span>(stefan, miriam)</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="co"># nicht relevante Spalten entfernen</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>posmo <span class="ot">&lt;-</span> posmo <span class="sc">|&gt;</span> </span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>user_id, <span class="sc">-</span>weekday, <span class="sc">-</span>place_name)</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="co"># NA finden &amp; entfernen</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="co"># posmo[!complete.cases(posmo), ] # Zeigt Zeilen mit NA an</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>posmo <span class="ot">&lt;-</span> <span class="fu">drop_na</span>(posmo)<span class="co"># Spalten mit NA entfernen</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Geometrie hinzufügen</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>posmo <span class="ot">&lt;-</span> posmo <span class="sc">|&gt;</span> </span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_as_sf</span>(<span class="at">coords =</span> <span class="fu">c</span>(<span class="st">"lon_x"</span>, <span class="st">"lat_y"</span>), <span class="at">crs =</span> <span class="dv">4326</span>, <span class="at">remove =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span>  <span class="co"># Geometrie hinzufügen</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="dv">2056</span>) <span class="co"># transformieren CH1903+ LV95: 2056</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Schweizer Koordinaten zu sf-Tabelle hinzufügen</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>posmo_coordinates <span class="ot">&lt;-</span> <span class="fu">st_coordinates</span>(posmo)</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>posmo <span class="ot">&lt;-</span> <span class="fu">cbind</span>(posmo, posmo_coordinates)</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a><span class="co"># WGS Koordinaten entfernen </span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>posmo <span class="ot">&lt;-</span> posmo <span class="sc">|&gt;</span> </span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>lon_x, <span class="sc">-</span>lat_y)</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Daten anschauen, Trajectories</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a><span class="co"># ggplot(posmo, aes(X, Y, color = person))+</span></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a><span class="co">#   geom_path()+</span></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a><span class="co">#   coord_equal()+</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a><span class="co">#   scale_color_manual(values = c("Miriam" = "#3182bd", "Stefan" = "#c51b8a"))+</span></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a><span class="co">#   theme_void()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Semesterproject_files/figure-html/abbildung1-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption class="figure-caption"><em>Abbildung 1: Alle Datenpunkte aus der Zeitspanne vom 03.05. bis 21.06.2023 von Miriam und Stefan</em></figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Zusätzlich wird der Datensatz „Haltestellen des öffentlichen Verkehrs” vom Bundesamt für Verkehr (BAV) verwendet (QUELLE https://data.geo.admin.ch/ch.bav.haltestellen-oev/haltestellen-oev/haltestellen-oev_2056_de.csv.zip), welcher alle ÖV-Haltestellen beinhaltet.</p>
</section>
<section id="datenvorverarbeitung" class="level2">
<h2 class="anchored" data-anchor-id="datenvorverarbeitung">2.2 Datenvorverarbeitung</h2>
<p>Die Posmo-App ist noch in der Entwicklung und zeichnet die Transportmodi nicht immer korrekt auf. Die Daten wurden deshalb von uns auf POSMO (datamap.io) überprüft und falls nötig die Transportart von Hand angepasst.</p>
</section>
<section id="methode-1" class="level2">
<h2 class="anchored" data-anchor-id="methode-1">2.3 Methode</h2>
<section id="ansatz-geschwindigkeit" class="level3">
<h3 class="anchored" data-anchor-id="ansatz-geschwindigkeit">2.3.1 Ansatz «Geschwindigkeit»</h3>
<p>Um den Start einer Reise zu finden, werden die Daten auf eine bestimmte Abfolge von Bewegungen (Segmente) durchsucht. Zu Beginn darf keine Bewegung stattfinden, man ist zum Beispiel zu Hause oder bei der Arbeit. Dafür muss zwischen zwei Datenpunkten eine Zeitdifferenz über dem gewählten Schwellenwert von zehn Minuten liegen.</p>
<p>Erklärung: Annahme dass nicht länger als 10 min gewartet wird</p>
<p>Die restlichen Datenpunkte werden anhand der Geschwindigkeit in Segmente mit langsamer oder schneller Bewegung eingeteilt. Als langsam werden Bewegungen kleiner als 45 km/h klassifiziert. Bewegungen gleich oder grösser als 45 km/h werden als schnell klassifiziert.</p>
<div class="cell">

</div>
<div class="cell">

</div>
<p>Um den Start einer Reise zu finden, muss folgende Abfolge der Segmente vorliegen:</p>
<ul>
<li>keine Bewegung (Person über längere Zeit (difftime &gt;10 min) am selben Ort)</li>
<li>langsame Bewegung (Gehen/Fahrrad)</li>
<li>schnelle Bewegung (ÖV)</li>
</ul>
<p>Die Wartezeit kann anschliessend für alle gefundenen Events berechnet werden (difftime (min(Segment schnell), max(Segment langsam))).</p>
<div class="cell">

</div>
<p>Die räumlichen Startpunkte der Reisen wurden mit den ÖV-Haltestellen aus dem Datensatz „Haltestellen des öffentlichen Verkehrs” validiert, wodurch Reisen mit dem Auto wegfallen. Dafür wurde ein Buffer von 100 Metern um ÖV-Haltestellen mit den Positionsdaten der Wartezeit verschnitten. Die verbleibenden Datenpunkte geben die für uns relevanten Events an.</p>
<div class="cell">

</div>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Semesterproject_files/figure-html/abbildung2-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption class="figure-caption"><em>Abbildung 2: Alle ÖV-Haltestellen, bei welchen am Start einer Reise gewartet wurde</em></figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Einige ÖV-Haltestellen werden dabei öfters benutzt als andere.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Semesterproject_files/figure-html/abbildung3-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption class="figure-caption"><em>Abbildung 3: Benutzte ÖV-Haltestellen. Die grösse der Kästchen gibt die Anzahl Benutzungen an.</em></figcaption><p></p>
</figure>
</div>
</div>
</div>
<div class="cell">

</div>
</section>
<section id="ansatz-transportmodus" class="level3">
<h3 class="anchored" data-anchor-id="ansatz-transportmodus">2.3.2 Ansatz «Transportmodus»</h3>
<p>Um zu validieren, wie gut unsere geschwindigkeitsabhängige Methode funktioniert, machen wir eine zusätzliche Analyse mit den Angaben der Transportmodi von Posmo.</p>
<p>Erklärung: Annahme dass nicht länger als 10 min gewartet wird</p>
</section>
<section id="r-t-ansatz-transportmodus" class="level3">
<h3 class="anchored" data-anchor-id="r-t-ansatz-transportmodus">R: T: Ansatz “Transportmodus”</h3>
<section id="r-t-einteilung-stayslowpublic" class="level4">
<h4 class="anchored" data-anchor-id="r-t-einteilung-stayslowpublic">R: T: Einteilung stay/slow/public</h4>
<div class="cell">

</div>
<p>Dabei werden die Daten auf eine bestimmte Abfolge anhand des angegebene Transportmodus durchsucht.</p>
<ul>
<li>keine Bewegung (Person über längere Zeit (difftime &gt;10 min) am selben Ort)</li>
<li>Transportmodus Walk/Bike</li>
<li>Transportmodus Bus/Train/Tram</li>
</ul>
<p>Die Wartezeit kann anschliessend für alle gefundenen Events berechnet werden (difftime (min(Segment schnell), max(Segment langsam))).</p>
</section>
<section id="r-t-evente-finden" class="level4">
<h4 class="anchored" data-anchor-id="r-t-evente-finden">R: T: Evente finden</h4>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code> [1] "datetime_slow"         "transport_mode_slow"   "person_slow"          
 [4] "X_slow"                "Y_slow"                "time_slow"            
 [7] "Moving_slow"           "moving_class_slow"     "id"                   
[10] "datetime_public"       "transport_mode_public" "person_public"        
[13] "X_public"              "Y_public"              "time_public"          
[16] "Moving_public"         "moving_class_public"  </code></pre>
</div>
</div>
<div class="cell">

</div>
</section>
</section>
</section>
</section>
<section id="resultate" class="level1">
<h1>3 Resultate</h1>
<p>Die beiden Verfahren haben eine unterschiedliche Anzahl Events ergeben. Gemäss dem Ansat”Geschwindigkeit” haben wir zusammen 60 (Ansatz “Geschwindigkeit”), bzw. 85 (Ansatz “Transportmodus”) Reisen mit dem ÖV gemacht. Miriam macht 0.51 (Ansatz “Geschwindigkeit”), bzw 0.67 (Ansatz “Transportmodus”) ÖV-Reisen pro Tag. Stefan macht 0.71 (Ansatz “Geschwindigkeit”), bzw 1.06 (Ansatz “Transportmodus”) ÖV-Reisen pro Tag.</p>
<p>Beim Ansatz “Geschwindigkeit” ergeben sich folgende Resultate: Miriam wartet im Mittel rund 3.1 Minuten, während Stefan im Mittel rund 1.9 Minuten wartet. Die Wartezeiten sind von Reise zu Reise unterschiedlich lange. Bei Miriam beträgt die Standardabweichung 2.9 und bei Stefan 2.2.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 6
  person Mittelwert Minimum Maximum Standardabweichung Bereich
  &lt;chr&gt;       &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;              &lt;dbl&gt;   &lt;dbl&gt;
1 Miriam       3.01    0.08    9.85               2.88    9.77
2 Stefan       1.92    0.23    7.52               2.20    7.29</code></pre>
</div>
</div>
<p>Beim Ansatz “Geschwindigkeit” ergeben sich folgende Resultate: Miriam wartet im Mittel rund 3.3 Minuten, während Stefan im Mittel rund 2.6 Minuten wartet. Die Wartezeiten sind von Reise zu Reise unterschiedlich lange. Bei Miriam beträgt die Standardabweichung 2.8 und bei Stefan 2.7.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 6
  person Mittelwert Minimum Maximum Standardabweichung Bereich
  &lt;chr&gt;       &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;              &lt;dbl&gt;   &lt;dbl&gt;
1 Miriam       3.32  0.0167    8.35               2.76    8.33
2 Stefan       2.61  0.0333    9.65               2.71    9.62</code></pre>
</div>
</div>
<p>Text: wer wartet länger</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Semesterproject_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>T-Test für Ansatz “Geschwindigkeit”</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
    Two Sample t-test

data:  wartezeit by person
t = 1.6571, df = 58, p-value = 0.1029
alternative hypothesis: true difference in means between group Miriam and group Stefan is not equal to 0
95 percent confidence interval:
 -0.2263252  2.4030109
sample estimates:
mean in group Miriam mean in group Stefan 
            3.005200             1.916857 </code></pre>
</div>
</div>
<p>T-Test für Ansatz “Geschwindigkeit”</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
    Two Sample t-test

data:  wartezeit_minutes by person
t = 1.1706, df = 83, p-value = 0.2451
alternative hypothesis: true difference in means between group Miriam and group Stefan is not equal to 0
95 percent confidence interval:
 -0.4970964  1.9191632
sample estimates:
mean in group Miriam mean in group Stefan 
            3.316162             2.605128 </code></pre>
</div>
</div>
<p>Text: Wartekategorien</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Semesterproject_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Text: Interaktive Karte</p>
<div class="cell">

</div>
<section id="r-t-visualisierung" class="level4">
<h4 class="anchored" data-anchor-id="r-t-visualisierung">R: T: Visualisierung</h4>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.881176</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  Group.1        x
1  Miriam 3.316162
2  Stefan 2.605128</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  Group.1    x
1  Miriam 8.35
2  Stefan 9.65</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  Group.1          x
1  Miriam 0.01666667
2  Stefan 0.03333333</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
0.01667 0.16667 3.00000 2.88118 5.01667 9.65000 </code></pre>
</div>
<div class="cell-output-display">
<p><img src="Semesterproject_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="Semesterproject_files/figure-html/unnamed-chunk-18-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="Semesterproject_files/figure-html/unnamed-chunk-18-3.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="Semesterproject_files/figure-html/unnamed-chunk-18-4.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<div id="htmlwidget-a50807db50c6ba8eaeed" style="width:100%;height:464px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-a50807db50c6ba8eaeed">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addProviderTiles","args":["NASAGIBS.ViirsEarthAtNight2012",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]}],"setView":[[48.85,2.34],5,[]]},"evals":[],"jsHooks":[]}</script>
</div>
<div class="cell-output-display">
<div id="htmlwidget-323ceaea85b5bf42a880" style="width:100%;height:464px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-323ceaea85b5bf42a880">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[47.4676648657504,47.0870597130452,47.5482850612971,47.55360680266,47.557324431213,47.5512738946296,47.5719273996167,47.5487258080319,46.549906678133,47.4125199288633,47.2086736215163,47.1780251304321,47.3615305587436,47.4837763417767,47.4415069989061,46.9677831397083,46.3153427552789,47.0433692153498,46.4079067507929,47.5331763752413,47.5264228874621,47.3594584870859,47.2079159146471,46.7937667727591,47.4651740513011,46.2921244658579,47.4926708678042,47.170308392589,47.2293671039463,47.2184722911102,47.4874351316997,47.4831158790176,47.497789745997,47.173725645846,47.4019028730843],[7.60280199948821,8.72182867820624,7.59029732047899,7.59225207907121,7.5752165991616,7.58804741292874,7.61124282591672,7.58317833046671,9.88847618960241,8.69541442969802,8.69272145988099,8.45667463775051,7.39004407879905,7.54601224733279,7.59194358293086,9.55490918926917,7.65219112398642,8.31377091231112,9.7012954608818,7.64775750108608,7.64726627979521,7.65597383047554,8.70768678450188,10.2862138998858,8.760343086017,7.53282985613412,9.43609054014792,8.09862335869881,8.67495604039053,8.67755602160545,8.7668150495186,8.76145246066326,8.72933827503576,8.50723688100418,8.55179791126464],10,null,null,{"interactive":true,"className":"","stroke":true,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":"#03F","fillOpacity":0.2},null,null,[3.01666666666667,7.51666666666667,4.85,0.166666666666667,0.116666666666667,0.0833333333333333,0.166666666666667,0.2,3.31666666666667,5.33333333333333,5.01666666666667,1.76666666666667,0.1,0.214583333333333,6.43333333333333,9.65,0.0333333333333333,3.78333333333333,7.56666666666667,0.233333333333333,0.15,1.66111111111111,3.62638888888889,6.26666666666667,5.33333333333333,6.06666666666667,5,3.56666666666667,5.64722222222222,4.75,4.38333333333333,0.78974358974359,4.05,4.83333333333333,0.166666666666667],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[46.2921244658579,47.5719273996167],"lng":[7.39004407879905,10.2862138998858]}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="cell-output-display">
<p><img src="Semesterproject_files/figure-html/unnamed-chunk-18-7.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="diskussion" class="level1">
<h1>4 Diskussion</h1>
<p>Probleme und Grenzen:</p>
<p>Bei der Herangehensweise «Geschwindigkeit» sich durch das setzen des Schwellenwerts für die Geschwindigkeit ein Problem. Wird der Schwellenwert zu tief gesetzt, können Bewegungen auf dem Weg zu der Haltestelle bereits als schnelle Bewegung eingestuft werden, obwohl wir diese als langsame Bewegungen haben möchten. Ein Beispiel: Stefan geht oft mit dem Fahrrad zur ÖV-Haltestelle und erreicht dabei Geschwindigkeiten über 40 km/h. Deshalb wurde der Schwellenwert auf 45 km/h gesetzt. Nun kann es aber sein, dass das öffentliche Verkehrsmittel beim Start der Reise langsam fährt und diese Bewegung als langsame Bewegung eingestuft wird. Dies hat zur Folge, dass sich die Wartezeit auf 15 Sekunden, also die Zeit zwischen zwei Datenpunkten beschränkt und nicht der Wahrheit entspricht. Die Daten werden verfälscht.</p>
<p>Bei der Herangehensweise «Klassifizierung» sind wir auf die Qualität von Posmo angewiesen. Den Transportmodus können wir manuell anpassen, die Segmente sind aber relativ fix (Erfahrungen haben gezeigt, dass die Funktion «split segment» nicht einwandfrei funktioniert). Es kam einige Male vor, dass langsame und schnelle Bewegungen am Start einer Reise als ein Segment dargestellt wurde. Der Transportmodus war dann entweder Bus, Train oder Tram. Da dadurch eine Segment der Transportmodus Walk oder Bike fehlte, wurde auch kein Start einer Reise erkannt. Dies ist ein Verlust eines Datenpunktes aber keine Verfälschung der Daten.</p>
<p>Aufgrund der Frequenz der Lokalisierung, können die Wartezeiten nur auf 10 Sekunden genau sein.</p>
<p>Die Herangehensweise «Geschwindigkeit» zeigt auf, dass die Transportmodi nicht einzig aufgrund deren Geschwindigkeit eingeteilt werden können. Die Daten werden verfälscht und können nicht interpretiert werden. Die Herangehensweise «Klassifizierung» ergibt deutlich bessere Daten. Bei diesem Vorgehen waren wir aber darauf angewiesen, dass wir bereits vorgegebene Segmente hatten und diese nur noch klassifizieren oder validieren mussten. Dies ist Zeitintensiv und für grössere Datensätze nicht denkbar. So können auch nur Daten bearbeitet werden, wovon man weiss, welcher Transportmodus verwendet wurde.</p>
<p>Um die Auswertung auch auf grössere und fremde Datensätze auszuweiten, wäre eine Verbesserung der Erkennung des Transportmodus von Vorteil. Busse und Trams wurden zum Beispiel immer als Autos klassifiziert. Hierfür wäre vielleicht ein Abgleich mit Datensätzen des öffentlichen Verkehrs möglich. Zudem gab es manchmal Segmente, bei welchen der Transportmodus als unbekannt gesetzt wurde. Dennoch würde eine entsprechende Fragestellung, welche sich nur auf den Zugdaten (inkl. Walk und Bike) bezieht bereits mit der jetzigen Erkennung der Transportmodi relativ gut funktionieren.</p>
</section>
<section id="literatur" class="level1">
<h1>5 Literatur</h1>
<p>Csikos, D., &amp; Currie, G. (2008). Investigating Consistency in Transit Passenger Arrivals: Insights from Longitudinal Automated Fare Collection Data. Transportation Research Record, 2042(1), 12–19. https://doi.org/10.3141/2042-02</p>
<p>Kaindl, F. (2022). Reisen mit der Bahn: In welchen Ländern die Züge besonders pünktlich sind. Merkur.de https://www.merkur.de/reise/zuege-puenktlich-fernverkehr-bahn-europa-schweiz-daenemark-niederlande-zr-91977341.html#:~:text=In%20der%20Schweiz%20fahren%20Z%C3%BCge%20am%20p%C3%BCnktlichsten%20Am,viele%20Gedanken%20%C3%BCber%20Versp%C3%A4tungen%20innerhalb%20des%20Landes%20machen.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>